// –©–æ–± —Ç–∏ –º—ñ–≥ –Ω–∞–ø–∏—Å–∞—Ç–∏ —Ç–∞–∫–∏–π –∫—Ä—É—Ç–∏–π –ø—Ä–æ–µ–∫—Ç, —Ç–æ–±—ñ —Ç—Ä–µ–±–∞ –≤–ø–µ–≤–Ω–µ–Ω–æ –≤–æ–ª–æ–¥—ñ—Ç–∏ JS-–ª–æ–≥—ñ–∫–æ—é. –î–∞–≤–∞–π —à–≤–∏–¥–µ–Ω—å–∫–æ —Ä–æ–∑–ø—Ä–∞–≤–∏–º–æ—Å—å —ñ–∑ —Ç–∏–º–∏ 3 –∑–∞–¥–∞—á–∞–º–∏ (¬´AI Filter Simulation¬ª), –ø—Ä–æ —è–∫—ñ —è –ø–∏—Å–∞–≤ —Ä–∞–Ω—ñ—à–µ:

// –†—è–¥–æ–∫ —É –º–∞—Å–∏–≤: –ú–∞—î—à —Ä—è–¥–æ–∫ —Ñ—ñ–ª—å–º—ñ–≤ —á–µ—Ä–µ–∑ –∫–æ–º—É ‚Äî –∑—Ä–æ–±–∏ –∑ –Ω—å–æ–≥–æ –º–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤.

// myMap: –î–æ–¥–∞–π –∫–æ–∂–Ω–æ–º—É —Ñ—ñ–ª—å–º—É –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å aiScore: 0.

// Debounce: –ó—Ä–æ–±–∏ —Ñ—É–Ω–∫—Ü—ñ—é –ø–æ—à—É–∫—É, —è–∫–∞ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ —Ç–∏ –ø–µ—Ä–µ—Å—Ç–∞–≤ –¥—Ä—É–∫—É–≤–∞—Ç–∏ –Ω–∞–∑–≤—É —Ñ—ñ–ª—å–º—É.

const rawMovies = "Inception, Interstellar, The Dark Knight, Memento, Tenet";

function workWithString(stringMovies) {
  const transformToArr = stringMovies.split(",");
  const result = transformToArr.map((movie, index) => {
    return {
      id: index + 1,
      title: movie.trim(),
    };
  });

  return result;
}

const arrToWork = workWithString(rawMovies);

function addScoreParam(arr, callback) {
  const result = [];

  for (const elementOfArr of arr) {
    result.push(callback(elementOfArr));
  }

  return result;
}

function addCallback(obj) {
  return {
    ...obj,
    aiScore: 0,
  };
}

const newArr = addScoreParam(arrToWork, addCallback);
console.log(newArr);

// [
//   { id: 1, title: "Inception" },
//   { id: 2, title: "Interstellar" },
//   // —ñ —Ç–∞–∫ –¥–∞–ª—ñ...
// ];

// 2. –ú—ñ–π Map (Data Enrichment)
// –£—è–≤–∏, —â–æ –Ω–∞—à "–®–Ü" –º–∞—î –æ—Ü—ñ–Ω–∏—Ç–∏ –∫–æ–∂–µ–Ω —Ñ—ñ–ª—å–º. –î–ª—è –ø–æ—á–∞—Ç–∫—É –º–∏ –ø—Ä–æ—Å—Ç–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –ø–æ–ª–µ –æ—Ü—ñ–Ω–∫–∏.

// –í—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ (–º–∞—Å–∏–≤ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –∑–∞–¥–∞—á—ñ):

// JavaScript

// –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
// –ù–æ–≤–∏–π –º–∞—Å–∏–≤, –¥–µ —É –∫–æ–∂–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –∑'—è–≤–∏–≤—Å—è –∫–ª—é—á aiScore.

// JavaScript
// [
//   { id: 1, title: "Inception", aiScore: 0 },
//   { id: 2, title: "Interstellar", aiScore: 0 }
// ]

// 3. Debounce (Optimization)
// –¶–µ –Ω–∞–π—Ü—ñ–∫–∞–≤—ñ—à–µ. –ù–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–º—ñ—Ç—É–≤–∞—Ç–∏ –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º —É –ø–æ—à—É–∫–æ–≤–∏–π —Ä—è–¥–æ–∫.

// –¢–µ—Å—Ç–æ–≤–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:
// –ú–∏ —Å—Ç–≤–æ—Ä–∏–º–æ —Ñ—É–Ω–∫—Ü—ñ—é searchMovie(query), —è–∫–∞ –ø—Ä–æ—Å—Ç–æ –≤–∏–≤–æ–¥–∏—Ç—å —É –∫–æ–Ω—Å–æ–ª—å: "Searching for: [query]". –¢–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –∑–∞–≥–æ—Ä–Ω—É—Ç–∏ —ó—ó –≤ debounce, —â–æ–± –ø—Ä–∏ —à–≤–∏–¥–∫–æ–º—É –≤–∏–∫–ª–∏–∫—É –≤–æ–Ω–∞ —Å–ø—Ä–∞—Ü—é–≤–∞–ª–∞ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑.

// –ö–æ–¥ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:

// –¢–≤–æ—è —Ñ—É–Ω–∫—Ü—ñ—è debounce –º–∞—î –±—É—Ç–∏ —Ç—É—Ç

function debounce(func, delay) {
  let timer;

  return function (...args) {
    if (timer) {
      clearTimeout(timer);
    }

    timer = setTimeout(() => func(...args), delay);
  };
}

function searchMovie(query) {
  console.log(
    `üîé –í–∏–∫–æ–Ω—É—é –ø–æ—à—É–∫: ${query} (—á–∞—Å: ${new Date().toLocaleTimeString()})`,
  );
}

const debouncedSearch = debounce(searchMovie, 1000); // –∑–∞—Ç—Ä–∏–º–∫–∞ 1 —Å–µ–∫—É–Ω–¥–∞

// –Ü–º—ñ—Ç–∞—Ü—ñ—è —à–≤–∏–¥–∫–æ–≥–æ –¥—Ä—É–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:
debouncedSearch("I");
debouncedSearch("In");
debouncedSearch("Inc");
debouncedSearch("Inception");

// // –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –∫–æ–Ω—Å–æ–ª—ñ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –ü–Ü–°–õ–Ø –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –≤–∏–∫–ª–∏–∫—É:
// // "üîé –í–∏–∫–æ–Ω—É—é –ø–æ—à—É–∫: Inception (—á–∞—Å: ...)"
// –ü—ñ–¥–∫–∞–∑–∫–∞ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

// –ó–∞–¥–∞—á–∞ 1: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –º–µ—Ç–æ–¥–∏ .split() —Ç–∞ .map(). –ù–µ –∑–∞–±—É–¥—å –ø—Ä–æ .trim(), —â–æ–± –ø—Ä–∏–±—Ä–∞—Ç–∏ –∑–∞–π–≤—ñ –ø—Ä–æ–±—ñ–ª–∏ –Ω–∞–≤–∫–æ–ª–æ –Ω–∞–∑–≤.

// –ó–∞–¥–∞—á–∞ 2: –ú–æ–∂–µ—à –Ω–∞–ø–∏—Å–∞—Ç–∏ —Å–≤–æ—é —Ñ—É–Ω–∫—Ü—ñ—é myMap(array, callback) –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤–±—É–¥–æ–≤–∞–Ω–∏–π –º–µ—Ç–æ–¥.

// –ó–∞–¥–∞—á–∞ 3: –¢—É—Ç –∑–Ω–∞–¥–æ–±–ª—è—Ç—å—Å—è setTimeout —Ç–∞ clearTimeout.

// –ë–∞–∂–∞—î—à, —â–æ–± —è –ø–µ—Ä–µ–≤—ñ—Ä–∏–≤ —Ç–≤—ñ–π –≤–∞—Ä—ñ–∞–Ω—Ç —Ä—ñ—à–µ–Ω–Ω—è, –∫–æ–ª–∏ —Ç–∏ –π–æ–≥–æ –Ω–∞–ø–∏—à–µ—à?
